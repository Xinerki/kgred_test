
weaponModelNames = {
	"s_interact_jug_pickup",
	"s_interact_lantern03x_pickup",
	"s_interact_torch",
	"w_melee_lasso03",
	"w_melee_brokenSword01",
	"w_melee_fishingpole02",
	"w_melee_hatchet01",
	"w_melee_hatchet02",
	"w_melee_hatchet03",
	"w_melee_hatchet04",
	"w_melee_hatchet05",
	"w_melee_hatchet06",
	"w_melee_hatchet06",
	"w_melee_hatchet07",
	"w_melee_hatchet07",
	"w_melee_knife01",
	"w_melee_knife02",
	"w_melee_knife03",
	"w_melee_knife05",
	"w_melee_knife14",
	"w_melee_knife16",
	"w_melee_knife17",
	"w_melee_knife18",
	"w_melee_machete01",
	"w_melee_tomahawk01",
	"w_melee_tomahawk02",
	"w_pistol_m189901",
	"w_pistol_mauser01",
	"w_pistol_mauser01",
	"w_pistol_semiauto01",
	"w_pistol_volcanic01",
	"W_REPEATER_CARBINE01",
	"w_repeater_henry01",
	"w_repeater_pumpaction01",
	"w_repeater_winchester01",
	"w_revolver_cattleman01",
	"w_revolver_cattleman01",
	"w_revolver_cattleman02",
	"w_revolver_cattleman03",
	"w_revolver_doubleaction01",
	"w_revolver_doubleaction02",
	"w_revolver_doubleaction04",
	"w_revolver_doubleaction06",
	"w_revolver_lemat01",
	"w_revolver_schofield01",
	"w_revolver_schofield03",
	"w_revolver_schofield04",
	"w_rifle_boltaction01",
	"W_RIFLE_CARCANO01",
	"w_rifle_rollingblock01",
	"w_rifle_rollingblock01",
	"w_rifle_springfield01",
	"w_shotgun_doublebarrel01",
	"w_shotgun_doublebarrel01",
	"w_shotgun_pumpaction01",
	"w_shotgun_repeating01",
	"w_shotgun_sawed01",
	"w_shotgun_semiauto01",
	"W_SP_BowArrow",
	"w_throw_dynamite01",
	"w_throw_molotov01",
}

weaponNames = {
	"WEAPON_MOONSHINEJUG",
	"WEAPON_MELEE_LANTERN_ELECTRIC",
	"WEAPON_MELEE_TORCH",
	"WEAPON_LASSO",
	"WEAPON_MELEE_BROKEN_SWORD",
	"WEAPON_FISHINGROD",
	"WEAPON_MELEE_HATCHET",
	"WEAPON_MELEE_CLEAVER",
	"WEAPON_MELEE_ANCIENT_HATCHET",
	"WEAPON_MELEE_HATCHET_VIKING",
	"WEAPON_MELEE_HATCHET_HEWING",
	"WEAPON_MELEE_HATCHET_DOUBLE_BIT",
	"WEAPON_MELEE_HATCHET_DOUBLE_BIT_RUSTED",
	"WEAPON_MELEE_HATCHET_HUNTER",
	"WEAPON_MELEE_HATCHET_HUNTER_RUSTED",
	"WEAPON_MELEE_KNIFE_JOHN",
	"WEAPON_MELEE_KNIFE",
	"WEAPON_MELEE_KNIFE_JAWBONE",
	"WEAPON_THROWN_THROWING_KNIVES",
	"WEAPON_MELEE_KNIFE_MINER",
	"WEAPON_MELEE_KNIFE_CIVIL_WAR",
	"WEAPON_MELEE_KNIFE_BEAR",
	"WEAPON_MELEE_KNIFE_VAMPIRE",
	"WEAPON_MELEE_MACHETE",
	"WEAPON_THROWN_TOMAHAWK",
	"WEAPON_THROWN_TOMAHAWK_ANCIENT",
	"WEAPON_PISTOL_M1899",
	"WEAPON_PISTOL_MAUSER",
	"WEAPON_PISTOL_MAUSER_DRUNK",
	"WEAPON_PISTOL_SEMIAUTO",
	"WEAPON_PISTOL_VOLCANIC",
	"WEAPON_REPEATER_CARBINE",
	"WEAPON_REPEATER_HENRY",
	"WEAPON_RIFLE_VARMINT",
	"WEAPON_REPEATER_WINCHESTER",
	"WEAPON_REVOLVER_CATTLEMAN",
	"WEAPON_REVOLVER_CATTLEMAN_JOHN",
	"WEAPON_REVOLVER_CATTLEMAN_MEXICAN",
	"WEAPON_REVOLVER_CATTLEMAN_PIG",
	"WEAPON_REVOLVER_DOUBLEACTION",
	"WEAPON_REVOLVER_DOUBLEACTION_EXOTIC",
	"WEAPON_REVOLVER_DOUBLEACTION_GAMBLER",
	"WEAPON_REVOLVER_DOUBLEACTION_MICAH",
	"WEAPON_REVOLVER_LEMAT",
	"WEAPON_REVOLVER_SCHOFIELD",
	"WEAPON_REVOLVER_SCHOFIELD_GOLDEN",
	"WEAPON_REVOLVER_SCHOFIELD_CALLOWAY",
	"WEAPON_RIFLE_BOLTACTION",
	"WEAPON_SNIPERRIFLE_CARCANO",
	"WEAPON_SNIPERRIFLE_ROLLINGBLOCK",
	"WEAPON_SNIPERRIFLE_ROLLINGBLOCK_EXOTIC",
	"WEAPON_RIFLE_SPRINGFIELD",
	"WEAPON_SHOTGUN_DOUBLEBARREL",
	"WEAPON_SHOTGUN_DOUBLEBARREL_EXOTIC",
	"WEAPON_SHOTGUN_PUMP",
	"WEAPON_SHOTGUN_REPEATING",
	"WEAPON_SHOTGUN_SAWEDOFF",
	"WEAPON_SHOTGUN_SEMIAUTO",
	"WEAPON_BOW",
	"WEAPON_THROWN_DYNAMITE",
	"WEAPON_THROWN_MOLOTOV",
}

ammoTypes = {
	"AMMO_PISTOL",
	"AMMO_PISTOL_SPLIT_POINT",
	"AMMO_PISTOL_EXPRESS",
	"AMMO_PISTOL_EXPRESS_EXPLOSIVE",
	"AMMO_PISTOL_HIGH_VELOCITY",
	"AMMO_REVOLVER",
	"AMMO_REVOLVER_SPLIT_POINT",
	"AMMO_REVOLVER_EXPRESS",
	"AMMO_REVOLVER_EXPRESS_EXPLOSIVE",
	"AMMO_REVOLVER_HIGH_VELOCITY",
	"AMMO_RIFLE",
	"AMMO_RIFLE_SPLIT_POINT",
	"AMMO_RIFLE_EXPRESS",
	"AMMO_RIFLE_EXPRESS_EXPLOSIVE",
	"AMMO_RIFLE_HIGH_VELOCITY",
	"AMMO_22",
	"AMMO_REPEATER",
	"AMMO_REPEATER_SPLIT_POINT",
	"AMMO_REPEATER_EXPRESS",
	"AMMO_REPEATER_EXPRESS_EXPLOSIVE",
	"AMMO_REPEATER_HIGH_VELOCITY",
	"AMMO_SHOTGUN",
	"AMMO_SHOTGUN_BUCKSHOT_INCENDIARY",
	"AMMO_SHOTGUN_SLUG",
	"AMMO_SHOTGUN_SLUG_EXPLOSIVE",
	"AMMO_ARROW",
	"AMMO_TURRET",
	"ML_UNARMED",
	"AMMO_MOLOTOV",
	"AMMO_MOLOTOV_VOLATILE",
	"AMMO_DYNAMITE",
	"AMMO_DYNAMITE_VOLATILE",
	"AMMO_THROWING_KNIVES",
	"AMMO_THROWING_KNIVES_IMPROVED",
	"AMMO_THROWING_KNIVES_POISON",
	"AMMO_THROWING_KNIVES_JAVIER",
	"AMMO_THROWING_KNIVES_CONFUSE",
	"AMMO_THROWING_KNIVES_DISORIENT",
	"AMMO_THROWING_KNIVES_DRAIN",
	"AMMO_THROWING_KNIVES_TRAIL",
	"AMMO_THROWING_KNIVES_WOUND",
	"AMMO_TOMAHAWK",
	"AMMO_TOMAHAWK_ANCIENT",
	"AMMO_TOMAHAWK_HOMING",
	"AMMO_TOMAHAWK_IMPROVED",
	"AMMO_HATCHET",
	"AMMO_HATCHET_ANCIENT",
	"AMMO_HATCHET_CLEAVER",
	"AMMO_HATCHET_DOUBLE_BIT",
	"AMMO_HATCHET_DOUBLE_BIT_RUSTED",
	"AMMO_HATCHET_HEWING",
	"AMMO_HATCHET_HUNTER",
	"AMMO_HATCHET_HUNTER_RUSTED",
	"AMMO_HATCHET_VIKING",
	"AMMO_ARROW_FIRE",
	"AMMO_ARROW_DYNAMITE",
	"AMMO_ARROW_SMALL_GAME",
	"AMMO_ARROW_IMPROVED",
	"AMMO_ARROW_POISON",
	"AMMO_ARROW_CONFUSION",
	"AMMO_ARROW_DISORIENT",
	"AMMO_ARROW_DRAIN",
	"AMMO_ARROW_TRAIL",
	"AMMO_ARROW_WOUND",
};

local function RequestIpl(iplName)
    Citizen.InvokeNative(0x59767C5A7A9AE6DA, iplName)
end

local function IsIplActive(iplName)
    return Citizen.InvokeNative(0xD779B9B910BD3B7C, iplName, Citizen.ResultAsInteger())
end

local function RemoveIpl(iplName)
    Citizen.InvokeNative(0x5A3E5CF7B4014B96, iplName)
end

local millerIpl = {-173548630, 985448695, -715865581}
local marstonIpl = {-974480336, 255093300, 1467774743, 411742897, 1344772301, 1532774697, -2029237844}
local preMarstonHut = {2111816145}

RegisterCommand("marston", function()
    -- local pos = vec3(-1643.7, -1364.25, 84.4)
    -- SetEntityCoordsNoOffset(PlayerPedId(), pos)

    for _,v in pairs(marstonIpl) do
        RemoveIpl(v)
    end
end)

RegisterCommand('ipl', function(source, args)
	local ipl = args[1]
	RequestIpl(tonumber(ipl))
	-- RequestIpl(GetHashKey(ipl))
end)

function GetEntityCoords(e)
    return Citizen.InvokeNative(0xA86D5F069399F44D, e, Citizen.ResultAsVector())
end

function translateAngle(x1, y1, ang, offset)
  x1 = x1 + math.sin(ang) * offset
  y1 = y1 + math.cos(ang) * offset
  return {x1, y1}
end

function DrawGameText(x, y, text, r, g, b, a, scaleX, scaleY)
    SetTextScale(scaleX, scaleY)
    SetTextColor(r, g, b, a)
    local str = CreateVarString(10, "LITERAL_STRING", text)
    DisplayText(str, x, y)
end

local function PerformRequest(hash)
    print("requesting model " .. hash)
	
	if HasModelLoaded(hash) == 1 then return end

    Citizen.InvokeNative(0xFA28FE3A6246FC30, hash, 0) -- RequestModel

    local times = 1

    print("requested " .. times .. " times")

    while not Citizen.InvokeNative(0x1283B8B89DD5D1B6, hash) do -- HasModelLoaded
        Citizen.InvokeNative(0xFA28FE3A6246FC30, hash, 0) -- RequestModel

        times = times + 1

        print("requested " .. times .. " times")

        Citizen.Wait(0)
		
		if times >= 100 then break end
    end
end

local function GiveWeapon(ped, weapName, ammoCount, equip, group, leftHanded, condition)
    print("giving "..weapName.."\n")

    Citizen.InvokeNative(0x5E3BDDBCB83F3D84, ped, GetHashKey(weapName), 500, equip, true, group, false, 0.5, 1.0, leftHanded, 0.0)
	-- N_0x106a811c6d3035f3(GetHashKey(weapName), "AMMO_PISTOL", 100, 752097756)
	-- N_0x5e3bddbcb83f3d84(ped, GetHashKey(weapName), 500, equip, true, group, false, 1056964608, 1065353216, leftHanded, 0.0, 0)
end

menuEnabled = false
noclipEnabled = false
speedMult = 1
currentSpeedIndex = 0

speedValues = {
[0] = 1, 5, 10, 20, 50, 100,
}

local example = {0x987C359D, 0x37A566F6, 0x8071A64D, 0x16C30C8A, 0x78CDED83, 0xF5D31879, 0x876C5E60, 0x9D5EFFF9, 0x795FF3A1, 0x3296ADD6, 0x54C10822, 0xB444C132, 0x9F7E2464, 0x6A38A663, 0x8A444D5A, 0xB95C1E20, 0xE40099F8, 0x45D1631F}
-- local example = {0xB920F6EF}

-- -2091943191 best john hair so far
-- 1380556716 claude hair john lookin ass
-- 1744812031 john's underweight face or so
-- -248960099 a bandolier
-- 1053001337 satchel
-- 479389656 shoulder satchel
-- -452402570 big scarf
-- -1457160606 spooky skull mask
-- 1331190543, 1336948195, 216184750 short length john facial hair
-- -880963191 john's gloves?

-- 0x1A097A3A almost marston hair lol but it's oc hair
-- 0x66B5DE24 OC face?
-- 0x771A7EE9 OC face?
-- 0xE79A7372 OC face?
-- 0x84F3E485 OC face?

-- 0x53F30F5A oc hair?

-- 0xA11747C5 OC face? *
-- 0x5FA010BC oc hair? *
-- 712446626 oc teeth (should be "the gummers" or "the chompers")
-- 0x13A24745 oc eyes
-- 2026761603 oc beard

-- 0x206061DB oc body for now
-- 0xC2404B3E oc shirt *
-- 0x1BAF0F7D oc vest *
-- 0x267E3453 oc hat maybe

-- 0x3033DA22 oc gloves
-- 0x29057A69 black durham coat
-- 0x10051C7 oc pants
-- 0x56DC1321 oc gunbelt
-- 0x5DDECEF2 oc belt

-- 925688168 black fingerless gloves
-- 901596767 mp_male fingerless gloves

gamertags = {}

Citizen.CreateThread(function()
    Wait(500)

	pp = PlayerPedId()

    for _, hash in pairs(example) do

        -- Unknown native, for some reason if this native isn't called it seems
        -- some components isn't being set on ped ?? second argument is unknown
        -- N_0x59bd177a1a48600a(pp, 0x9925C067)
		
        -- N_0xd3a7b003ed343fd9(pp, hash, true, false, true)

        Wait(5)
    end
	
	while true do Wait(150)
		for i=0,512 do
			if NetworkIsPlayerActive( i ) and GetPlayerPed( i ) ~= PlayerPedId() and not gamertags[i] then
			
			-- Citizen.Trace(GetPlayerName(i))
			
			clanTag = ""
			-- if string.find(GetPlayerName(i), 'Xinerki') ~= nil or string.find(GetPlayerName(i), 'Matt') ~= nil or string.find(GetPlayerName(i), 'Farbod') ~= nil then
				-- clanTag = "KGDEV"
				-- Citizen.Trace(GetPlayerName(i).." is a KGDEV!")
			-- end
			
			-- Citizen.Trace("clanTag = "..clanTag..'\n')
			
			-- local id = CreateMpGamerTag(GetPlayerPed(i), GetPlayerName(i), true, false, clanTag, false)
			
			-- CreateFakeMpGamerTag(GetPlayerPed(i), GetPlayerName(i), false, false, clanTag, false)
			
			end
		end
	end
end)


RegisterCommand('apply', function(source, args)
	local ped = PlayerPedId()
	local hash = tonumber(args[1])
	local category = N_0x5ff9a878c3d115b8(hash, false, true)
	N_0x59bd177a1a48600a(ped, category)
	-- N_0xd3a7b003ed343fd9(ped, hash, true, GetEntityModel(PlayerPedId()) == `mp_male` or GetEntityModel(PlayerPedId()) == `mp_female`, false)
	N_0xd3a7b003ed343fd9(ped, hash, true, false, false)
	N_0xd3a7b003ed343fd9(ped, hash, true, true, false)
end)

Citizen.CreateThread(function()
	
	wepCount = #weaponNames
	selectedWeaponId = 0
	
	SetRelationshipBetweenGroups(5, `PLAYER`, `PLAYER`)
	
	-- Citizen.InvokeNative(0x283978A15512B2FE, PlayerPedId(), true)      -- reset model 
	-- Citizen.InvokeNative(0xA5BAE410B03E7371, PlayerPedId(), 115, 0, 0, 0)   -- param - add body shape for mp_male from 124 to 128 (110 - 115 for mp_female)
	-- Citizen.InvokeNative(0xA5BAE410B03E7371, PlayerPedId(), 100, 0, 0, 0)   -- param - add face shape for mp_male from 110 to 123 (96 - 109 for mp_female)
	-- Citizen.InvokeNative(0xA5BAE410B03E7371, PlayerPedId(), 46, 0, 0, 0)   -- param - add cloth type for mp_male from 0 to 109  (0-95 for mp_female).  -- not all work
			
	-- for i = 1, 15 do
        -- EnableDispatchService(i, false)
    -- end
	
	for i=0,50 do
		-- N_0x3bbdd6143ff16f98(PlayerPedId(), i, 2, 0, 0)
		-- print(Citizen.InvokeNative(`SET_PED_COMPONENT_VARIATION`, PlayerPedId(), i, 2, 0, 0, 0) .. "\n")
		-- print(Citizen.InvokeNative(0x897934E868EDDD6C, PlayerPedId(), i, 2, 0, 0))
	end
	
	-- SetPedOutfitPreset(PlayerPedId(), 27, 0)
	
	-- SetPedOutfitPreset(PlayerPedId(), 6, 0)
	-- N_0xcc8ca3e88256e58f(PlayerPedId(), 0, 1, 0, 0, 0)
	-- N_0x1902c4cfcc5be57c(GetEntityModel(PlayerPedId()), 0)
	
	-- N_0xd3a7b003ed343fd9(PlayerPedId(), 600894672, 0, false, 0)
	-- N_0xdf631e4bce1b1fc4(PlayerPedId(), -1442703445, 0, false)
	
	-- N_0xcc8ca3e88256e58f(PlayerPedId(), 1, 1, 1, 1, 0)
	
	-- SetPlayerWantedLevel(PlayerId(), 1, false)
	
	-- PerformRequest(`w_repeater_henry01`)
	local hash = 0xB920F6EF
	
    -- N_0x59bd177a1a48600a(PlayerPedId(), 0x9925C067)
    -- N_0xd3a7b003ed343fd9(PlayerPedId(), hash, true, false, true)
	
	-- GiveWeapon(PlayerPedId(), "WEAPON_REPEATER_HENRY", 500, false, 1, false, 0.0)
	
	SetPedScale(PlayerPedId(), 1.0)
	
	N_0x4759cc730f947c81() -- ped pop enable
	N_0x1ff00db43026b12f() -- veh?
	SetEntityHasGravity(PlayerPedId(), true)
	NetworkSetFriendlyFireOption(true)
	SetMinimapHideFow(true)
	
	-- N_0xe057fea9a22eb3ee(577490767)
	
	-- DecorSetBool(PlayerPedId(), "wearing_bandana", true)
	
	-- for i=0,512 do SetPedConfigFlag(PlayerPedId(), i, false) end


	while true do Wait(0)
	
	-- HideHudAndRadarThisFrame()
			
	if IsDisabledControlJustPressed(0, "INPUT_ENTER") == 1 then
		aiming, ent = GetEntityPlayerIsFreeAimingAt(PlayerId(), PlayerPedId())
		if aiming and ent and IsEntityAPed(ent) then
			local boneId = GetEntityBoneIndexByName(ent, "SKEL_Head")
			local x, y, z = table.unpack(GetWorldPositionOfEntityBone(ent, boneId))
			-- local x, y, z = table.unpack(GetEntityCoords(ent))
			ShootSingleBulletBetweenCoords(x, y, z-0.1, x, y, z, 1.0, 0, `WEAPON_SHOTGUN_PUMP`, 0, false, true, 1.0, 1)
			-- AddOwnedExplosion(PlayerPedId(), x, y, z, 23, 0.5, false, true, false)
			-- ForceLightningFlashAtCoords(x, y, z)
		end
	end

	-- local _, x, y = GetScreenCoordFromWorldCoord(x, y, z)
	-- if _ == 1 then DrawGameText(x, y, "boens", 255, 255, 255, 255, 50.0, 1.0) end
	
	-- SetPedCanRagdoll(PlayerPedId(), true)
	-- SetPedRagdollOnCollision(PlayerPedId(), true, false)
	-- SetPedMoveRateOverride(PlayerPedId(), 5.0)
	-- SetSwimMultiplierForPlayer(PlayerId(), 10.0)
	-- SetPlayerMeleeWeaponDamageModifier(PlayerId(), 1000.0)
	-- SetPlayerWeaponDamageModifier(PlayerId(), 1000.0)
	
	-- SetIkTarget(PlayerPedId(), 1, 0, 0, 0.0, 0.0, 103.5, 0.0, 5000, 5)
	-- SetIkTarget(PlayerPedId(), 2, 0, 0, 0.0, 0.0, 103.5, 0.0, 5000, 5)
	-- SetIkTarget(ped, ikIndex, entityLookAt, boneLookAt, offsetX, offsetY, offsetZ, p7, blendInDuration, blendOutDuration)
	
	-- N_0x67943537d179597c(2977.4, 457.4, 49.4)
	-- DrawRect(0.0, 1.0, 0.84, 0.06, 0, 0, 0, 150, true)
	
	-- SetSuperJumpThisFrame(PlayerId())
	
		if menuEnabled == true then
		
			if IsDisabledControlJustPressed(0, "INPUT_MOVE_RIGHT_ONLY") == 1 then
				selectedWeaponId = selectedWeaponId + 1
			end
			
			if IsDisabledControlJustPressed(0, "INPUT_MOVE_LEFT_ONLY") == 1 then
				-- if selectedWeaponId == wepCount then
					-- selectedWeaponId = 0
				-- else
					selectedWeaponId = selectedWeaponId - 1
				-- end
			end
			
			if IsDisabledControlJustPressed(0, "INPUT_ENTER") == 1 then
				PerformRequest(GetHashKey(weaponModelNames[selectedWeaponId+1]))
				GiveWeapon(PlayerPedId(), weaponNames[selectedWeaponId+1], 500, false, 1, 0x9D603B0A, 0.0)
				-- GiveWeapon(PlayerPedId(), weaponNames[selectedWeaponId+1].."_DUALWIELD", 500, false, 1, 0x9D603B0A, 0.0)
				Citizen.InvokeNative(0x4AD96EF928BD4F9A, GetHashKey(weaponModelNames[selectedWeaponId+1])) 

				for i,v in ipairs(ammoTypes) do
					N_0x106a811c6d3035f3(PlayerPedId(), GetHashKey(v), 500, 752097756)
				end
				
				SetPedInfiniteAmmo(PlayerPedId(), true, weaponNames[selectedWeaponId+1])
			end
			
			if IsDisabledControlJustPressed(0, "INPUT_COVER") == 1 then
				RemoveAllPedWeapons(PlayerPedId(), 1, 1)
			end
			
			if IsDisabledControlJustPressed(0, "INPUT_SWITCH_SHOULDER") == 1 then
				RemoveWeaponFromPed(PlayerPedId(), GetHashKey(weaponModelNames[selectedWeaponId+1]), 0, 0)
				print ("removing "..weaponModelNames[selectedWeaponId+1])
			end
			
			if IsDisabledControlJustPressed(0, "INPUT_RELOAD") == 1 then
				menuEnabled = false
				SetPlayerControl(PlayerId(), true, 1, 1)
			end
			
			selectedWeaponId = selectedWeaponId % wepCount
			DrawGameText(0.25, 0.1, selectedWeaponId .. " - " .. GetLabelText(weaponNames[selectedWeaponId+1]), 255, 255, 255, 255, 1.0, 1.0)
		end
		
		if IsDisabledControlJustPressed(0, "INPUT_OPEN_JOURNAL") == 1 then
			noclipEnabled = not noclipEnabled
			SetEntityCollision(PlayerPedId(), not noclipEnabled, not noclipEnabled)
            FreezeEntityPosition(PlayerPedId(), noclipEnabled)
			height = GetEntityCoords(PlayerPedId()).z
				-- print("lol")
		end
		
		if noclipEnabled == true then
		
			local speed = 0
			
			if IsDisabledControlPressed(0, "INPUT_MOVE_UP_ONLY") == 1 then
				speed = 1
			end
			
			if IsDisabledControlPressed(0, "INPUT_COVER") == 1 then
				height = height + 2
			end
			
			if IsDisabledControlPressed(0, "INPUT_ENTER") == 1 then
				height = height - 2
			end
			
			if IsDisabledControlJustPressed(0, "INPUT_SPRINT") == 1 then
				currentSpeedIndex = (currentSpeedIndex + 1) % #speedValues
				speedMult = speedValues[currentSpeedIndex]
			end
			
			speed = speed * (speedMult or 1)
		
			local pos = GetEntityCoords(PlayerPedId())
			local rz = GetEntityHeading(PlayerPedId())
			local cz = GetGameplayCamRelativeHeading()+rz
			local markPos = translateAngle(pos.x, pos.y, math.rad(-cz), speed)
			local x, y = table.unpack(markPos)
			DrawGameText(0.1, 0.1, "speed = " .. currentSpeedIndex+1, 255, 255, 255, 255, 50.0, 1.0)
			-- DrawGameText(0.1, 0.1, tostring(cz%360), 255, 255, 255, 255, 0.5, 0.5)
			
			SetEntityCoords(PlayerPedId(), x, y, height)
		end
		
	end
end)

-- GetLabelText

RegisterCommand('weps', function()
	if menuEnabled == false then
		menuEnabled = true
		SetPlayerControl(PlayerId(), false, 1, 1)
	else
		menuEnabled = false
		SetPlayerControl(PlayerId(), true, 1, 1)
	end
end)

-- ShootSingleBulletBetweenCoords(x1, y1, z1, x2, y2, z2, damage, p7, weaponHash, ownerPed, isAudible, isInvisible, speed)
-- +1 unknown arg

-- AddOwnedExplosion(PlayerPedId(), GetEntityCoords(PlayerPedId()), 25, 0.1, false, true, false)
RegisterCommand('blow', function(source, args)
	Citizen.CreateThread(function()
		-- local px, py, pz = table.unpack(GetEntityCoords(PlayerPedId()))
		-- local boneId = GetEntityBoneIndexByName(PlayerPedId(), "SKEL_Head")
		-- for i=1,50 do
			-- local x, y, z = table.unpack(GetWorldPositionOfEntityBone(PlayerPedId(), boneId))
			-- AddOwnedExplosion(PlayerPedId(), x, y, z, 23, 0.5, false, true, false)
			-- Wait(1)
		-- end
	
		local boneId = GetEntityBoneIndexByName(PlayerPedId(), "SKEL_Head")
		local x, y, z = table.unpack(GetWorldPositionOfEntityBone(PlayerPedId(), boneId))
		ShootSingleBulletBetweenCoords(x, y, z-0.1, x, y, z, 1.0, 0, `WEAPON_SHOTGUN_PUMP`, 0, false, true, 1.0, 1)

	end)
end)

RegisterCommand('armadillo', function()
	SetEntityCoords(PlayerPedId(), -3638.3, -2609.1, -13.75)
end)

RegisterCommand('tumbleweed', function()
	SetEntityCoords(PlayerPedId(), -5496.2, -2950.7, -1.45)
end)

RegisterCommand('vanhorn', function()
	SetEntityCoords(PlayerPedId(), 2977.4, 457.4, 49.4)
end)

RegisterCommand('blackwater', function()
	SetEntityCoords(PlayerPedId(), -799.05, -1328.9, 42.55)
end)

RegisterCommand('bridge', function()
	SetEntityCoords(PlayerPedId(), 562.95, 1709.9, 187.65)
end)

RegisterCommand('mexico', function()
	SetEntityCoords(PlayerPedId(), -2148.1, -3464.55, 34.65)
end)

RegisterCommand('valentine', function()
	SetEntityCoords(PlayerPedId(), -303.4, 786.1, 117.85)
end)

RegisterCommand('guarma', function()
	SetEntityCoords(PlayerPedId(), 1473.5, -7149.3, 73.05)
end)

RegisterCommand('ammo', function()
	for i,v in ipairs(ammoTypes) do
		N_0x106a811c6d3035f3(PlayerPedId(), GetHashKey(v), 500, 752097756)
	end
end)

-- 0x267E3453 oc hat maybe


RegisterCommand('char', function(source, args)
	if args then
		if args[1] == 'jonathan' then -- Jonathan Reach
			
			-- SetPedOutfitPreset(PlayerPedId(), 77, 0)

			local model = 0xA11747C5
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x5FA010BC
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 712446626
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x13A24745
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 2026761603
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x206061DB
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x3033DA22
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x29057A69
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x10051C7
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x56DC1321
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x5DDECEF2
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, true, true, false)
		end
		
		if args[1] == 'bart' then -- Bart Coleman

			local model = 0x3625908B
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x3825D527
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x15ACBB1D
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x61227FF8
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x1C03EAB2
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x13A24745
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, false, true, false)

			local model = 0x1F93EE0E
			local category = N_0x5ff9a878c3d115b8(model, false, true)
			N_0x59bd177a1a48600a(PlayerPedId(), category)
			N_0xd3a7b003ed343fd9(PlayerPedId(), model, true, true, false)
		end
	end
end)

marston_Vars = { -2091943191, 1331190543, 1336948195, 216184750 }

RegisterCommand('loadout', function(source, args)
	if args then
		if args[1] == 'xin' then
	
			-- Citizen.InvokeNative(0x283978A15512B2FE, PlayerPedId(), true)      -- reset model 
			-- Citizen.InvokeNative(0xA5BAE410B03E7371, PlayerPedId(), 128, 0, 0, 0)   -- param - add body shape for mp_male from 124 to 128 (110 - 115 for mp_female)
			-- Citizen.InvokeNative(0xA5BAE410B03E7371, PlayerPedId(), 121, 0, 0, 0)   -- param - add face shape for mp_male from 110 to 123 (96 - 109 for mp_female)
			-- Citizen.InvokeNative(0xA5BAE410B03E7371, PlayerPedId(), 77, 0, 0, 0)   -- param - add cloth type for mp_male from 0 to 109  (0-95 for mp_female).  -- not all work
	
			-- local model = `player_three`
	
			-- PerformRequest(model)
			
			-- if HasModelLoaded(model) then
				-- Citizen.InvokeNative(0xED40380076A31506, player, model, false)
				-- Citizen.InvokeNative(0x283978A15512B2FE, PlayerPedId(), true)
				-- SetModelAsNoLongerNeeded(model)
			-- end
			
			-- SetPedOutfitPreset(PlayerPedId(), 5)
	
			PerformRequest(GetHashKey("w_repeater_winchester01"))
			GiveWeapon(PlayerPedId(), "WEAPON_REPEATER_WINCHESTER", 500, false, 1, false, 0.0)
			Citizen.InvokeNative(0x4AD96EF928BD4F9A, GetHashKey("w_repeater_winchester01")) 
			SetModelAsNoLongerNeeded(GetHashKey("w_repeater_winchester01"))
			
			PerformRequest(GetHashKey("w_melee_lasso03"))
			GiveWeapon(PlayerPedId(), "WEAPON_LASSO", 500, false, 1, false, 0.0)
			Citizen.InvokeNative(0x4AD96EF928BD4F9A, GetHashKey("w_melee_lasso03")) 
			SetModelAsNoLongerNeeded(GetHashKey("w_melee_lasso03"))
			
			PerformRequest(GetHashKey("w_melee_knife02"))
			GiveWeapon(PlayerPedId(), "WEAPON_MELEE_KNIFE", 500, false, 1, false, 0.0)
			Citizen.InvokeNative(0x4AD96EF928BD4F9A, GetHashKey("w_melee_knife02")) 
			SetModelAsNoLongerNeeded(GetHashKey("w_melee_knife02"))
			
			PerformRequest(GetHashKey("w_revolver_cattleman01"))
			GiveWeapon(PlayerPedId(), "WEAPON_REVOLVER_CATTLEMAN", 500, false, 1, false, 0.0)
			Citizen.InvokeNative(0x4AD96EF928BD4F9A, GetHashKey("w_revolver_cattleman01")) 
			SetModelAsNoLongerNeeded(GetHashKey("w_revolver_cattleman01"))
			
			for i,v in pairs(marston_Vars) do
				print(v)
				local category = N_0x5ff9a878c3d115b8(v, false, false)
				N_0x59bd177a1a48600a(PlayerPedId(), category)
				N_0xd3a7b003ed343fd9(PlayerPedId(), v, true, false, true)
			end
		end
	end
end)

local function chatMessage(msg)
	TriggerEvent('chatMessage', '', {0, 0, 0}, msg)
end

RegisterCommand('music', function(source, args)
	if args[1] then
		TriggerServerEvent("test:sendMusicEvent", args[1])
	end
end, false)

RegisterNetEvent("test:receiveMusicEvent")
AddEventHandler("test:receiveMusicEvent", function (event)
	chatMessage("^2Starting music event \""..event.."\"")
	PrepareMusicEvent(event)
	return TriggerMusicEvent(event) == 1
end)

RegisterNetEvent("test:receiveTimeChange")
AddEventHandler("test:receiveTimeChange", function (time)
	time = tonumber(time) % 24
	chatMessage("^4Changed time to "..time.."")
	NetworkClockTimeOverride(time, 0, 0, 0, 0, 0)
end)

RegisterCommand('time', function(source, args)
	if args[1] then
		-- AdvanceClockTimeTo(tonumber(args[1]) % 24, 0, 0)
		-- N_0x669e223e64b1903c(tonumber(args[1]) % 24, 0, 0, 0, 0, 0)
		TriggerServerEvent("test:sendTimeChange", args[1])
	end
end, false)

RegisterCommand('noclip', function()
	if menuEnabled == false then
		noclipEnabled = not noclipEnabled
		SetEntityCollision(PlayerPedId(), not noclipEnabled, not noclipEnabled)
		FreezeEntityPosition(PlayerPedId(), noclipEnabled)
		height = GetEntityCoords(PlayerPedId()).z-1
	end
end)

-- RegisterCommand('sp', function()
	-- N_0x17c21b7319a05047()
-- end)

RegisterCommand('pos', function()
	SetEntityCoords(PlayerPedId(), vector3(-1237.54, 545.95, 93.32))
end)

RegisterCommand("wander", function()
	TaskWanderStandard(PlayerPedId(), 1.0, 10)
end, false)

RegisterCommand("ambient", function(source, args, rawCommand)
	local x,y,z = table.unpack(GetEntityCoords(PlayerPedId()))
	TaskUseNearestScenarioToCoord(PlayerPedId(), x, y, z, 500.0, -1)
end)

local weatherList = {
    "RAIN",
    "FOG",
    "SNOWLIGHT",
    "THUNDER",
    "BLIZZARD",
    "SNOW",
    "MISTY",
    "SUNNY",
    "HIGHPRESSURE",
    "CLEARING",
    "SLEET",
    "DRIZZLE",
    "SHOWER",
    "SNOWCLEARING",
    "OVERCASTDARK",
    "THUNDERSTORM",
    "SANDSTORM",
    "HURRICANE",
    "HAIL",
    "WHITEOUT",
    "GROUNDBLIZZARD",
}

function changeWeather(weather)
	Citizen.InvokeNative(0x59174F1AFE095B5A, GetHashKey(weatherList[tonumber(weather)]), true, false, true, true, false)
	chatMessage("^3Changing weather to ".. weatherList[tonumber(weather)].."\n")
end

RegisterNetEvent("test:receiveWeatherChange")
AddEventHandler("test:receiveWeatherChange", changeWeather)

RegisterCommand('weather', function(source, args)
	if args[1] then
		TriggerServerEvent("test:sendWeatherChange", args[1])
	end
end)

RegisterCommand('arthur', function(source, args)
	CreateThread(function()
		local model = `player_zero`
		PerformRequest(model)
		local x, y, z = table.unpack(GetEntityCoords(PlayerPedId(), 0))
		-- CreatePed(pedType, modelHash, x, y, z, heading, isNetwork, thisScriptCheck)
		-- CreatePed(p0, p1, p2, p3, p4, p5, p6, p7, p8)
		-- local arthur = Citizen.InvokeNative(0xD49F9B0955C367DE, 5, model, -799.05, -1333.75, 43.5, 0, true, true, true, Citizen.ResultAsInteger())
		-- local arthur = CreatePed(model, -799.05, -1333.75, 43.5, 0.0, true, true, true, true)
		local arthur = CreatePed(model, x+2, y+2, z, 0.0, true, true, true, true)
		Citizen.InvokeNative(0x283978A15512B2FE, arthur, true)
		SetPedOutfitPreset(arthur, 3)
		GiveWeapon(arthur, "w_winchester_repeater01", "weapon_repeater_winchester")
		-- Citizen.Trace(arthur.."\n")
					
		-- SetDecisionMaker(arthur, `DEFAULT_RESPONSE_HATE`)
		-- SetPedRelationshipGroupHash(ped, GetHashKey("ENEMY"))
		
		-- TaskCombatPed(arthur, PlayerPedId(), 0, 16)
		
		SetPedAsGroupMember(arthur, GetPedGroupIndex(PlayerPedId()))
		
		SetModelAsNoLongerNeeded(model)
	end)
end)

RegisterCommand('marston', function(source, args)
	CreateThread(function()
		local model = `cs_johnmarston`
		PerformRequest(model)
		local marston = CreatePed(model, -799.05, -1333.75, 43.5, 0.0, true, true, true, true)
		Citizen.InvokeNative(0x283978A15512B2FE, marston, true)
		SetPedOutfitPreset(marston, 16)
		GiveWeapon(marston, "w_winchester_repeater01", "weapon_repeater_winchester")
		-- Citizen.Trace(marston.."\n")
		SetPedAsGroupMember(marston, GetPedGroupIndex(PlayerPedId()))
		
		Wait(1500)
		ClonePedToTarget(marston, PlayerPedId())
		SetModelAsNoLongerNeeded(marston)
	end)
end)

local TRAIN_HASHES = {
    -1464742217,
    -577630801,
    -1901305252,
    -1719006020,
    519580241,
    1495948496,
    1365127661,
    -1083616881,
    1030903581,
    -2006657222,
    1285344034,
    -156591884,
    987516329,
    -1740474560,
    -651487570,
    -593637311,
    1094934838,
    1054492269,
    1216031719,
}
 
-- train list command (/trains)
RegisterCommand("trains", function()
    print("id", "hash", "wagons")
    for trainId, trainHash in next, TRAIN_HASHES do
        print(trainId, trainHash, N_0x635423d55ca84fc8(trainHash))
    end
end)
 
CURRENT_TRAIN = nil
 
function SpawnTrain(n)
    local trainHash = TRAIN_HASHES[n]
    local trainWagons = N_0x635423d55ca84fc8(trainHash)
    for wagonIndex = 0, trainWagons - 1 do
        local trainWagonModel = N_0x8df5f6a19f99f0d5(trainHash, wagonIndex)
        PerformRequest(trainWagonModel)
    end
    local train = N_0xc239dbd9a57d2a71(trainHash, GetEntityCoords(PlayerPedId()), 0, 0, 1, 1)
    -- SetTrainSpeed(train, 0.0)
    -- TaskWarpPedIntoVehicle(PlayerPedId(), train, -1)
    CURRENT_TRAIN = train
end
 
-- train spawn command (/train id)
RegisterCommand("train", function(source, args, raw)
    local n = tonumber(args[1])
    SpawnTrain(n)
end)

RegisterCommand('coords', function()
	local pos=GetEntityCoords(PlayerPedId(),0)
	local x = pos.x
	local y = pos.y
	local z = pos.z
	Citizen.Trace("Your coordinates: \nX: "..tostring(math.floor(x*20)/20).." \nY: "..tostring(math.floor(y*20)/20).." \nZ: "..tostring(math.floor(z*20)/20).."\n")

end)
